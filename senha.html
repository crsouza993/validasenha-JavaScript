<!DOCTYPE html>
<html lang="pt-br">
  <head>      
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title> <!--CSS-->
    <style> 
      body {
        font-size: arial;
      }
      div {
        width: 50%;
        margin-left: auto;
        margin-right: auto;
        border: darkorange solid 3px;
        border-radius: 20px;
        background-color: peachpuff;
        text-align: center;
        padding: 30px;
      }
      .texto {
        color: rgb(236, 13, 13);
        font-weight: bolder;
      }
      span {          
        margin-left: -26px;
        cursor: pointer;  
      }
    </style>
  </head>
  <body>
    <div>
      <form> <!--inicia o javascript-->
        <input type="password" id="p1" onkeyup="verificaS()" /><span
          onmousedown="mostrap1()"    
          onmouseup="escondep1()"
          onmouseleave="escondep1()"
        >
          &#128065;</span
        ><br /><br />
        <input type="password" id="p2" onkeyup="verificaS()" /><span
          onmousedown="mostrap2()"
          onmouseup="escondep2()"
          onmouseleave="escondep2()"                           
        >
          &#128065;</span
        ><br /><br />             <!--TEXTOS REFERENCIAIS DO CADASTRAMENTO-->
        <p id="minu" class="texto">&#10008; Deve conter minúscula.</p>
        <p id="maiu" class="texto">&#10008; Deve conter maiúsculas.</p>
        <p id="ncara" class="texto">
          &#10008; Deve conter pelo menos 8 caracteres.
        </p>
        <p id="simb" class="texto">
          &#10008; Deve conter pelo menos um dos simbolos ! @ # $ % & *.
        </p>
        <p id="num" class="texto">&#10008; Deve conter números</p>
        <p id="igual" class="texto">&#10008; As senhas devem ser iguais</p>
        <input type="submit" value="gravar" id="btn" disabled />  <!-- ativar o botao so quando ficar verde -->
        <!-- &#10004; -->
      </form>
    </div>
    
    <script>  //*** JAVASCRIPT DANDO AÇÃO NO HTML, CADASTRO DE SENHA *** // 
      function mostrap1() {
        document.getElementById("p1").type = "text";
      }
      function escondep1() {
        document.getElementById("p1").type = "password";
      }
      function mostrap2() {
        document.getElementById("p2").type = "text";
      }
      function escondep2() {
        document.getElementById("p2").type = "password";
      }

      function verificaS()    //*** aula dia 08 02 2022  MUDANDO OS 8 CARACTERS***
      {
        //document.getElementById("btn").disabled = false   // fazer o botao ativar 
        var s1 = document.getElementById("p1").value;
        var s2 = document.getElementById("p2").value;
        var cont = 0;
        // *** verifica se p1 tem pelo menos 8 caracteres
        
        if(s1.length>=8 )
        {     // se s1 for maior que 8 quero q fique verd, oq eu quero q fique verde eu encontro o elemento 'id' // e mando ficar verde                  

        // se isso for vdd,fica verde copio o texto
        document.getElementById("ncara").style.color = "#3d904b";
        document.getElementById("ncara").innerHTML = "&#10004; Deve conter pelo menos 8 caracteres.";
        cont++
      }
      else{         // voltar pra vermelho se nao for
        document.getElementById("ncara").style.color = "#ec0d0d";
        document.getElementById("ncara").innerHTML = "&#10008; Deve conter pelo menos 8 caracteres.";

        }
        // *** VERIFICA SE AS SENHAS SÃO IGUAIS, TRABALHAR COM O VALOR DO P1 E P2(S2)
        if( s1==s2 && s1.length!=0){        // resolver o 'problema se ficar vazio" p quando apagar tudo, ñ ficar dizendo q sao iguais

          document.getElementById("igual").style.color = "#3d904b";
          document.getElementById("igual").innerHTML = "&#10004; As senhas devem ser iguais";
          cont++
        }
        else{
          document.getElementById("igual").style.color = "#ec0d0d";
          document.getElementById("igual").innerHTML = "&#10008; As senhas devem ser iguais";
        }

        //*** verifica se contem minusculas***
        
        var temp = s1.toUpperCase() // variavel temporaria, guardei no temp o digitado em maiscula
        if(s1!=temp) {                      //se for != de temp se conseguiu agir nele, signf q existe letra maiscula  
          document.getElementById("minu").style.color = "#3d904b";
          document.getElementById("minu").innerHTML = "&#10004; Deve conter minuscula";
          cont++
        }
        else{
          document.getElementById("minu").style.color = "#ec0d0d";
          document.getElementById("minu").innerHTML = "&#10008; Deve conter minuscula";
        }

        //*****Verifica se contem MAISCÚLA, PODE USAR A MESMA VARIAVEL TEMP****
        temp = s1.toLowerCase()
        if(s1!=temp){ // se for diferente doq eu digitei, entra aqui
          document.getElementById("maiu").style.color = "#3d904b";
          document.getElementById("maiu").innerHTML = "&#10004; Deve conter maiuscula"
          cont++
        }
        else{
          document.getElementById("maiu").style.color = "#ec0d0d";
          document.getElementById("maiu").innerHTML = "&#10008; Deve conter maiuscula";
        }
        //***verifica se tem caracter especiais ! @ # $ % & ****

        if(s1.includes("!") || s1.includes("$") || s1.includes("%") || s1.includes("&") || s1.includes("*") ||  s1.includes("@") ||  s1.includes("#")//se s1 é () ou
        ) {   // se sim:
          document.getElementById("simb").style.color = "#3d904b";
          document.getElementById("simb").innerHTML = "&#10004; Deve conter pelo menos um dos simbolos ! @ # $ % & *";
          cont++
      }
      else{
        document.getElementById("simb").style.color = "#ec0d0d";
        document.getElementById("simb").innerHTML =  "&#10008; Deve conter pelo menos um dos simbolos ! @ # $ % & *";
      }
      
      //****verifica se tem números***

      if(s1.includes("0") ||      //se s1 é () ou
        s1.includes("1") ||
        s1.includes("2") ||
        s1.includes("3") ||
        s1.includes("4") ||  
        s1.includes("5") || 
        s1.includes("6") ||
        s1.includes("7") ||
        s1.includes("8") ||
        s1.includes("9") 

        ) {   // se sim:
          document.getElementById("num").style.color = "#3d904b";
          document.getElementById("num").innerHTML = "&#10004; Deve conter numeros";
          cont++
      }
      else{
        document.getElementById("num").style.color = "#ec0d0d";
        document.getElementById("num").innerHTML =  "&#10008; Deve conter numeros";
      }

      // botao gravar 
      if(cont == 6){   // 6 quantidade de cont definidos nos if
        document.getElementById("btn").disabled = false
      }
      else{
        document.getElementById("btn").disabled = true
      }
      

      }
  
    </script>
  </body>
</html>
